<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>png-image: Library to view and modify PNG chunks.</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span style="font-weight: bold">png-<wbr></wbr>image</span>:<span class="mywbr"> &nbsp;</span> Library to view and modify PNG chunks.</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._png-image__.Library_to_view_and_modify_.P.N.G_chunks_%29" class="tocsubseclink" data-pltdoc="x"><span style="font-weight: bold">png-<wbr></wbr>image</span>:<span class="mywbr"> &nbsp;</span> Library to view and modify PNG chunks.</a></td></tr><tr><td><a href="#%28def._%28%28lib._png-image%2Fmain..rkt%29._png~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">png?</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._png-image%2Fmain..rkt%29._png-~3ehash%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">png-<wbr></wbr>&gt;hash</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._png-image%2Fmain..rkt%29._hash-~3epng%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">hash-<wbr></wbr>&gt;png</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">6.7</span></div><h2><a name="(part._png-image__.Library_to_view_and_modify_.P.N.G_chunks_)"></a><a name="(mod-path._png-image)"></a><span style="font-weight: bold">png-image</span>: Library to view and modify PNG chunks.</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Lehi Toskin</p></span></div><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">require</span></span></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">png-image</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">png-image</span></a> will allow programmers to dissect
a PNG image to view its contents separated by its chunks.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._png-image/main..rkt)._png~3f))"></a><span title="Provided from: png-image"><span class="RktSym"><span class="badlink"><span class="RktValLink">png?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">img</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">boolean?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">img</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">or/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">path-string?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bytes?</span></span></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Checks if the given path or byte string is a valid PNG image.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._png-image/main..rkt)._png-~3ehash))"></a><span title="Provided from: png-image"><span class="RktSym"><span class="badlink"><span class="RktValLink">png-&gt;hash</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">img</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">and/c</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">immutable?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">img</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">png?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a valid PNG image, returns an immutable <span class="RktSym"><span class="badlink"><span class="RktValLink">hash</span></span></span> where each key is
the name of a chunk (which is itself a hash). If a chunk may appear multiple
times according to the PNG spec, then the chunk information is wrapped inside
a list of hashes.</div></p><p>The chunk hashes have the keys <span class="RktVal">'</span><span class="RktVal">type</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">data</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">length</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">crc</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._png-image/main..rkt)._hash-~3epng))"></a><span title="Provided from: png-image"><span class="RktSym"><span class="badlink"><span class="RktValLink">hash-&gt;png</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hsh</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">bytes?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hsh</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">hash?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a hash, returns a valid PNG image as a byte string. If converted from
one form to the other, the resulting byte string may not be identical to the
original bytes due to the ordering of the chunks, but all the chunks should
inside the final result.</div></p></div></div><div id="contextindicator">&nbsp;</div></body></html>